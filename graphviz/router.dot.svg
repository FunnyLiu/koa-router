<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: tree Pages: 1 -->
<svg width="2104pt" height="735pt"
 viewBox="0.00 0.00 2103.56 735.40" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 731.4)">
<title>tree</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-731.4 2099.562,-731.4 2099.562,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_router</title>
<polygon fill="none" stroke="#000000" points="8,-264 8,-688 1551.5732,-688 1551.5732,-264 8,-264"/>
<text text-anchor="middle" x="779.7866" y="-671.4" font-family="Times,serif" font-size="14.00" fill="#000000">router.js</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_layer</title>
<polygon fill="none" stroke="#000000" points="1273.9038,-8 1273.9038,-256 2087.562,-256 2087.562,-8 1273.9038,-8"/>
<text text-anchor="middle" x="1680.7329" y="-239.4" font-family="Times,serif" font-size="14.00" fill="#000000">layer.js</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_ctx</title>
<polygon fill="none" stroke="#000000" points="846.8188,-55 846.8188,-242 946.849,-242 946.849,-55 846.8188,-55"/>
<text text-anchor="middle" x="896.8339" y="-225.4" font-family="Times,serif" font-size="14.00" fill="#000000">ctx</text>
</g>
<!-- Router -->
<g id="node1" class="node">
<title>Router</title>
<path fill="#e5e5e5" stroke="#000000" d="M92.084,-655.3008C92.084,-655.3008 54.28,-655.3008 54.28,-655.3008 50.1798,-655.3008 46.0795,-651.2005 46.0795,-647.1003 46.0795,-647.1003 46.0795,-638.8997 46.0795,-638.8997 46.0795,-634.7995 50.1798,-630.6992 54.28,-630.6992 54.28,-630.6992 92.084,-630.6992 92.084,-630.6992 96.1842,-630.6992 100.2845,-634.7995 100.2845,-638.8997 100.2845,-638.8997 100.2845,-647.1003 100.2845,-647.1003 100.2845,-651.2005 96.1842,-655.3008 92.084,-655.3008"/>
<text text-anchor="middle" x="73.182" y="-638.8" font-family="Times,serif" font-size="14.00" fill="#000000">Router</text>
</g>
<!-- Router.stack -->
<g id="node2" class="node">
<title>Router.stack</title>
<path fill="#e5e5e5" stroke="#000000" d="M108.349,-594.3008C108.349,-594.3008 38.015,-594.3008 38.015,-594.3008 33.9147,-594.3008 29.8144,-590.2005 29.8144,-586.1003 29.8144,-586.1003 29.8144,-577.8997 29.8144,-577.8997 29.8144,-573.7995 33.9147,-569.6992 38.015,-569.6992 38.015,-569.6992 108.349,-569.6992 108.349,-569.6992 112.4493,-569.6992 116.5496,-573.7995 116.5496,-577.8997 116.5496,-577.8997 116.5496,-586.1003 116.5496,-586.1003 116.5496,-590.2005 112.4493,-594.3008 108.349,-594.3008"/>
<text text-anchor="middle" x="73.182" y="-577.8" font-family="Times,serif" font-size="14.00" fill="#000000">Router.stack</text>
</g>
<!-- 中间件列表 -->
<g id="node3" class="node">
<title>中间件列表</title>
<path fill="#e5e5e5" stroke="#000000" d="M662.5702,-655.3008C662.5702,-655.3008 585.0056,-655.3008 585.0056,-655.3008 580.9053,-655.3008 576.8051,-651.2005 576.8051,-647.1003 576.8051,-647.1003 576.8051,-638.8997 576.8051,-638.8997 576.8051,-634.7995 580.9053,-630.6992 585.0056,-630.6992 585.0056,-630.6992 662.5702,-630.6992 662.5702,-630.6992 666.6705,-630.6992 670.7707,-634.7995 670.7707,-638.8997 670.7707,-638.8997 670.7707,-647.1003 670.7707,-647.1003 670.7707,-651.2005 666.6705,-655.3008 662.5702,-655.3008"/>
<text text-anchor="middle" x="623.7879" y="-638.8" font-family="Times,serif" font-size="14.00" fill="#000000">中间件列表</text>
</g>
<!-- Router.stack&#45;&gt;中间件列表 -->
<g id="edge1" class="edge">
<title>Router.stack&#45;&gt;中间件列表</title>
<path fill="none" stroke="#000000" d="M116.3871,-586.7866C218.047,-598.0492 471.7095,-626.1517 576.9178,-637.8074"/>
</g>
<!-- Router.params -->
<g id="node4" class="node">
<title>Router.params</title>
<path fill="#e5e5e5" stroke="#000000" d="M1182.914,-518.3008C1182.914,-518.3008 1101.2602,-518.3008 1101.2602,-518.3008 1097.16,-518.3008 1093.0597,-514.2005 1093.0597,-510.1003 1093.0597,-510.1003 1093.0597,-501.8997 1093.0597,-501.8997 1093.0597,-497.7995 1097.16,-493.6992 1101.2602,-493.6992 1101.2602,-493.6992 1182.914,-493.6992 1182.914,-493.6992 1187.0142,-493.6992 1191.1145,-497.7995 1191.1145,-501.8997 1191.1145,-501.8997 1191.1145,-510.1003 1191.1145,-510.1003 1191.1145,-514.2005 1187.0142,-518.3008 1182.914,-518.3008"/>
<text text-anchor="middle" x="1142.0871" y="-501.8" font-family="Times,serif" font-size="14.00" fill="#000000">Router.params</text>
</g>
<!-- 命名路由列表 -->
<g id="node5" class="node">
<title>命名路由列表</title>
<path fill="#e5e5e5" stroke="#000000" d="M1535.5971,-518.3008C1535.5971,-518.3008 1438.1023,-518.3008 1438.1023,-518.3008 1434.0021,-518.3008 1429.9018,-514.2005 1429.9018,-510.1003 1429.9018,-510.1003 1429.9018,-501.8997 1429.9018,-501.8997 1429.9018,-497.7995 1434.0021,-493.6992 1438.1023,-493.6992 1438.1023,-493.6992 1535.5971,-493.6992 1535.5971,-493.6992 1539.6973,-493.6992 1543.7976,-497.7995 1543.7976,-501.8997 1543.7976,-501.8997 1543.7976,-510.1003 1543.7976,-510.1003 1543.7976,-514.2005 1539.6973,-518.3008 1535.5971,-518.3008"/>
<text text-anchor="middle" x="1486.8497" y="-501.8" font-family="Times,serif" font-size="14.00" fill="#000000">命名路由列表</text>
</g>
<!-- Router.params&#45;&gt;命名路由列表 -->
<g id="edge2" class="edge">
<title>Router.params&#45;&gt;命名路由列表</title>
<path fill="none" stroke="#000000" d="M1191.117,-506C1254.1385,-506 1363.3516,-506 1429.9607,-506"/>
</g>
<!-- Layer.param() -->
<g id="node16" class="node">
<title>Layer.param()</title>
<path fill="#e5e5e5" stroke="#000000" d="M1377.7595,-223.3008C1377.7595,-223.3008 1297.2705,-223.3008 1297.2705,-223.3008 1293.1702,-223.3008 1289.07,-219.2005 1289.07,-215.1003 1289.07,-215.1003 1289.07,-206.8997 1289.07,-206.8997 1289.07,-202.7995 1293.1702,-198.6992 1297.2705,-198.6992 1297.2705,-198.6992 1377.7595,-198.6992 1377.7595,-198.6992 1381.8598,-198.6992 1385.96,-202.7995 1385.96,-206.8997 1385.96,-206.8997 1385.96,-215.1003 1385.96,-215.1003 1385.96,-219.2005 1381.8598,-223.3008 1377.7595,-223.3008"/>
<text text-anchor="middle" x="1337.515" y="-206.8" font-family="Times,serif" font-size="14.00" fill="#000000">Layer.param()</text>
</g>
<!-- Router.params&#45;&gt;Layer.param() -->
<g id="edge10" class="edge">
<title>Router.params&#45;&gt;Layer.param()</title>
<path fill="none" stroke="#ff0000" d="M1172.9994,-493.6461C1205.4567,-479.995 1253.2468,-457.7302 1263.9038,-441 1286.1423,-406.0882 1253.708,-291.1319 1273.9038,-255 1279.9948,-244.1028 1290.0511,-235.3175 1300.3893,-228.5474"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1302.2939,-231.4862 1309.0589,-223.3323 1298.6857,-225.4878 1302.2939,-231.4862"/>
<text text-anchor="middle" x="1236.5023" y="-481.2" font-family="Times,serif" font-size="14.00" fill="#000000">5.forEach</text>
</g>
<!-- Router.methods() -->
<g id="node6" class="node">
<title>Router.methods()</title>
<path fill="#e5e5e5" stroke="#000000" d="M122.346,-533.3008C122.346,-533.3008 24.018,-533.3008 24.018,-533.3008 19.9177,-533.3008 15.8174,-529.2005 15.8174,-525.1003 15.8174,-525.1003 15.8174,-516.8997 15.8174,-516.8997 15.8174,-512.7995 19.9177,-508.6992 24.018,-508.6992 24.018,-508.6992 122.346,-508.6992 122.346,-508.6992 126.4463,-508.6992 130.5466,-512.7995 130.5466,-516.8997 130.5466,-516.8997 130.5466,-525.1003 130.5466,-525.1003 130.5466,-529.2005 126.4463,-533.3008 122.346,-533.3008"/>
<text text-anchor="middle" x="73.182" y="-516.8" font-family="Times,serif" font-size="14.00" fill="#000000">Router.methods()</text>
</g>
<!-- Router.register() -->
<g id="node7" class="node">
<title>Router.register()</title>
<path fill="#e5e5e5" stroke="#000000" d="M669.9872,-507.3008C669.9872,-507.3008 577.5886,-507.3008 577.5886,-507.3008 573.4883,-507.3008 569.3881,-503.2005 569.3881,-499.1003 569.3881,-499.1003 569.3881,-490.8997 569.3881,-490.8997 569.3881,-486.7995 573.4883,-482.6992 577.5886,-482.6992 577.5886,-482.6992 669.9872,-482.6992 669.9872,-482.6992 674.0875,-482.6992 678.1877,-486.7995 678.1877,-490.8997 678.1877,-490.8997 678.1877,-499.1003 678.1877,-499.1003 678.1877,-503.2005 674.0875,-507.3008 669.9872,-507.3008"/>
<text text-anchor="middle" x="623.7879" y="-490.8" font-family="Times,serif" font-size="14.00" fill="#000000">Router.register()</text>
</g>
<!-- Router.methods()&#45;&gt;Router.register() -->
<g id="edge5" class="edge">
<title>Router.methods()&#45;&gt;Router.register()</title>
<path fill="none" stroke="#ff0000" d="M130.5125,-532.3194C142.6332,-534.2681 155.3822,-535.9895 167.364,-537 327.492,-550.5048 370.1326,-547.8099 528.5768,-521 543.9511,-518.3986 560.4259,-514.3613 575.2761,-510.2376"/>
<polygon fill="#ff0000" stroke="#ff0000" points="576.6094,-513.4969 585.2641,-507.3856 574.6874,-506.7659 576.6094,-513.4969"/>
<text text-anchor="middle" x="231.6401" y="-549.2" font-family="Times,serif" font-size="14.00" fill="#000000">forEach</text>
</g>
<!-- Router.register()&#45;&gt;Router.params -->
<g id="edge9" class="edge">
<title>Router.register()&#45;&gt;Router.params</title>
<path fill="none" stroke="#ff0000" d="M678.2754,-496.1564C776.2727,-498.2362 981.471,-502.5912 1082.8324,-504.7424"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1082.8277,-508.243 1092.8997,-504.9561 1082.9763,-501.2446 1082.8277,-508.243"/>
<text text-anchor="middle" x="896.8339" y="-506.2" font-family="Times,serif" font-size="14.00" fill="#000000">4.Object.keys</text>
</g>
<!-- Router.register()&#45;&gt;Router.register() -->
<g id="edge6" class="edge">
<title>Router.register()&#45;&gt;Router.register()</title>
<path fill="none" stroke="#ff0000" d="M604.0491,-507.3969C587.1302,-523.706 593.7098,-543.4 623.7879,-543.4 648.9313,-543.4 657.6542,-529.638 649.9565,-515.5954"/>
<polygon fill="#ff0000" stroke="#ff0000" points="652.4519,-513.1057 643.5267,-507.3969 646.9438,-517.4256 652.4519,-513.1057"/>
<text text-anchor="middle" x="623.7879" y="-547.6" font-family="Times,serif" font-size="14.00" fill="#000000">1.递归兼容数组调用</text>
</g>
<!-- Layer -->
<g id="node14" class="node">
<title>Layer</title>
<path fill="#e5e5e5" stroke="#000000" d="M1353.4582,-162.3008C1353.4582,-162.3008 1321.5718,-162.3008 1321.5718,-162.3008 1317.4716,-162.3008 1313.3713,-158.2005 1313.3713,-154.1003 1313.3713,-154.1003 1313.3713,-145.8997 1313.3713,-145.8997 1313.3713,-141.7995 1317.4716,-137.6992 1321.5718,-137.6992 1321.5718,-137.6992 1353.4582,-137.6992 1353.4582,-137.6992 1357.5584,-137.6992 1361.6587,-141.7995 1361.6587,-145.8997 1361.6587,-145.8997 1361.6587,-154.1003 1361.6587,-154.1003 1361.6587,-158.2005 1357.5584,-162.3008 1353.4582,-162.3008"/>
<text text-anchor="middle" x="1337.515" y="-145.8" font-family="Times,serif" font-size="14.00" fill="#000000">Layer</text>
</g>
<!-- Router.register()&#45;&gt;Layer -->
<g id="edge7" class="edge">
<title>Router.register()&#45;&gt;Layer</title>
<path fill="none" stroke="#ff0000" d="M678.2534,-488.3076C825.8803,-469.6422 1225.2209,-415.4608 1263.9038,-371 1277.78,-355.0512 1262.2309,-198.6254 1273.9038,-181 1280.8462,-170.5173 1292.4044,-163.4616 1303.7781,-158.7682"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1304.9753,-162.0572 1313.1834,-155.358 1302.5892,-155.4764 1304.9753,-162.0572"/>
<text text-anchor="middle" x="1015.9612" y="-452.2" font-family="Times,serif" font-size="14.00" fill="#000000">2.实例化</text>
</g>
<!-- Layer.setPrefix() -->
<g id="node15" class="node">
<title>Layer.setPrefix()</title>
<path fill="#e5e5e5" stroke="#000000" d="M1385.0371,-101.3008C1385.0371,-101.3008 1289.9929,-101.3008 1289.9929,-101.3008 1285.8926,-101.3008 1281.7924,-97.2005 1281.7924,-93.1003 1281.7924,-93.1003 1281.7924,-84.8997 1281.7924,-84.8997 1281.7924,-80.7995 1285.8926,-76.6992 1289.9929,-76.6992 1289.9929,-76.6992 1385.0371,-76.6992 1385.0371,-76.6992 1389.1374,-76.6992 1393.2376,-80.7995 1393.2376,-84.8997 1393.2376,-84.8997 1393.2376,-93.1003 1393.2376,-93.1003 1393.2376,-97.2005 1389.1374,-101.3008 1385.0371,-101.3008"/>
<text text-anchor="middle" x="1337.515" y="-84.8" font-family="Times,serif" font-size="14.00" fill="#000000">Layer.setPrefix()</text>
</g>
<!-- Router.register()&#45;&gt;Layer.setPrefix() -->
<g id="edge8" class="edge">
<title>Router.register()&#45;&gt;Layer.setPrefix()</title>
<path fill="none" stroke="#ff0000" d="M647.0075,-482.5106C713.9727,-446.3894 913.0244,-338.3035 1075.0734,-243 1119.8581,-216.6615 1228.4017,-145.0788 1273.9038,-120 1282.6877,-115.1587 1292.3385,-110.2525 1301.41,-105.8151"/>
<polygon fill="#ff0000" stroke="#ff0000" points="1303.1084,-108.8818 1310.593,-101.383 1300.0657,-102.5776 1303.1084,-108.8818"/>
<text text-anchor="middle" x="1015.9612" y="-316.2" font-family="Times,serif" font-size="14.00" fill="#000000">3.设置通用前缀</text>
</g>
<!-- Router.use() -->
<g id="node8" class="node">
<title>Router.use()</title>
<path fill="#e5e5e5" stroke="#000000" d="M107.5653,-438.3008C107.5653,-438.3008 38.7987,-438.3008 38.7987,-438.3008 34.6985,-438.3008 30.5982,-434.2005 30.5982,-430.1003 30.5982,-430.1003 30.5982,-421.8997 30.5982,-421.8997 30.5982,-417.7995 34.6985,-413.6992 38.7987,-413.6992 38.7987,-413.6992 107.5653,-413.6992 107.5653,-413.6992 111.6655,-413.6992 115.7658,-417.7995 115.7658,-421.8997 115.7658,-421.8997 115.7658,-430.1003 115.7658,-430.1003 115.7658,-434.2005 111.6655,-438.3008 107.5653,-438.3008"/>
<text text-anchor="middle" x="73.182" y="-421.8" font-family="Times,serif" font-size="14.00" fill="#000000">Router.use()</text>
</g>
<!-- Router.use()&#45;&gt;Router.register() -->
<g id="edge19" class="edge">
<title>Router.use()&#45;&gt;Router.register()</title>
<path fill="none" stroke="#ffff00" d="M110.3216,-438.355C122.3441,-441.9526 135.8142,-445.5655 148.364,-448 293.5544,-476.1651 467.1451,-487.8969 559.1293,-492.4235"/>
<polygon fill="#ffff00" stroke="#ffff00" points="558.9681,-495.9196 569.1242,-492.9026 559.3033,-488.9277 558.9681,-495.9196"/>
<text text-anchor="middle" x="231.6401" y="-475.2" font-family="Times,serif" font-size="14.00" fill="#000000">2.给每个子路由注册</text>
</g>
<!-- Router.use()&#45;&gt;Router.use() -->
<g id="edge18" class="edge">
<title>Router.use()&#45;&gt;Router.use()</title>
<path fill="none" stroke="#ffff00" d="M63.6971,-438.3969C55.5673,-454.706 58.7289,-474.4 73.182,-474.4 84.8122,-474.4 89.131,-461.6477 86.1383,-448.1684"/>
<polygon fill="#ffff00" stroke="#ffff00" points="89.3126,-446.6483 82.6669,-438.3969 82.7164,-448.9916 89.3126,-446.6483"/>
<text text-anchor="middle" x="73.182" y="-478.6" font-family="Times,serif" font-size="14.00" fill="#000000">1.递归兼容数组调用</text>
</g>
<!-- Router.match() -->
<g id="node9" class="node">
<title>Router.match()</title>
<path fill="#e5e5e5" stroke="#000000" d="M666.2215,-304.3008C666.2215,-304.3008 581.3543,-304.3008 581.3543,-304.3008 577.2541,-304.3008 573.1538,-300.2005 573.1538,-296.1003 573.1538,-296.1003 573.1538,-287.8997 573.1538,-287.8997 573.1538,-283.7995 577.2541,-279.6992 581.3543,-279.6992 581.3543,-279.6992 666.2215,-279.6992 666.2215,-279.6992 670.3217,-279.6992 674.422,-283.7995 674.422,-287.8997 674.422,-287.8997 674.422,-296.1003 674.422,-296.1003 674.422,-300.2005 670.3217,-304.3008 666.2215,-304.3008"/>
<text text-anchor="middle" x="623.7879" y="-287.8" font-family="Times,serif" font-size="14.00" fill="#000000">Router.match()</text>
</g>
<!-- Layer.match() -->
<g id="node17" class="node">
<title>Layer.match()</title>
<path fill="#e5e5e5" stroke="#000000" d="M1376.989,-40.3008C1376.989,-40.3008 1298.041,-40.3008 1298.041,-40.3008 1293.9407,-40.3008 1289.8404,-36.2005 1289.8404,-32.1003 1289.8404,-32.1003 1289.8404,-23.8997 1289.8404,-23.8997 1289.8404,-19.7995 1293.9407,-15.6992 1298.041,-15.6992 1298.041,-15.6992 1376.989,-15.6992 1376.989,-15.6992 1381.0893,-15.6992 1385.1896,-19.7995 1385.1896,-23.8997 1385.1896,-23.8997 1385.1896,-32.1003 1385.1896,-32.1003 1385.1896,-36.2005 1381.0893,-40.3008 1376.989,-40.3008"/>
<text text-anchor="middle" x="1337.515" y="-23.8" font-family="Times,serif" font-size="14.00" fill="#000000">Layer.match()</text>
</g>
<!-- Router.match()&#45;&gt;Layer.match() -->
<g id="edge11" class="edge">
<title>Router.match()&#45;&gt;Layer.match()</title>
<path fill="none" stroke="#000000" d="M674.4101,-290.6569C739.1984,-287.6264 854.1415,-277.7981 946.849,-246 1105.232,-191.6755 1125.8855,-137.2745 1273.9038,-59 1282.8507,-54.2687 1292.6269,-49.3722 1301.772,-44.9067"/>
<polygon fill="#000000" stroke="#000000" points="1303.5362,-47.9413 1311.0125,-40.4343 1300.4866,-41.6405 1303.5362,-47.9413"/>
</g>
<!-- ctx.matched -->
<g id="node19" class="node">
<title>ctx.matched</title>
<path fill="#e5e5e5" stroke="#000000" d="M930.6636,-209.3008C930.6636,-209.3008 863.0042,-209.3008 863.0042,-209.3008 858.904,-209.3008 854.8037,-205.2005 854.8037,-201.1003 854.8037,-201.1003 854.8037,-192.8997 854.8037,-192.8997 854.8037,-188.7995 858.904,-184.6992 863.0042,-184.6992 863.0042,-184.6992 930.6636,-184.6992 930.6636,-184.6992 934.7638,-184.6992 938.8641,-188.7995 938.8641,-192.8997 938.8641,-192.8997 938.8641,-201.1003 938.8641,-201.1003 938.8641,-205.2005 934.7638,-209.3008 930.6636,-209.3008"/>
<text text-anchor="middle" x="896.8339" y="-192.8" font-family="Times,serif" font-size="14.00" fill="#000000">ctx.matched</text>
</g>
<!-- Router.match()&#45;&gt;ctx.matched -->
<g id="edge14" class="edge">
<title>Router.match()&#45;&gt;ctx.matched</title>
<path fill="none" stroke="#0000ff" d="M636.7645,-279.672C654.0523,-264.023 686.2786,-237.47 718.999,-224.2 759.1722,-207.9075 808.0597,-201.2862 844.4026,-198.6384"/>
<polygon fill="#0000ff" stroke="#0000ff" points="845.0257,-202.1055 854.778,-197.965 844.5722,-195.1202 845.0257,-202.1055"/>
<text text-anchor="middle" x="777.9089" y="-229.2" font-family="Times,serif" font-size="14.00" fill="#000000">3.将返回值挂载</text>
</g>
<!-- compose() -->
<g id="node20" class="node">
<title>compose()</title>
<path fill="#e5e5e5" stroke="#000000" d="M926.219,-723.3008C926.219,-723.3008 867.4488,-723.3008 867.4488,-723.3008 863.3485,-723.3008 859.2483,-719.2005 859.2483,-715.1003 859.2483,-715.1003 859.2483,-706.8997 859.2483,-706.8997 859.2483,-702.7995 863.3485,-698.6992 867.4488,-698.6992 867.4488,-698.6992 926.219,-698.6992 926.219,-698.6992 930.3193,-698.6992 934.4195,-702.7995 934.4195,-706.8997 934.4195,-706.8997 934.4195,-715.1003 934.4195,-715.1003 934.4195,-719.2005 930.3193,-723.3008 926.219,-723.3008"/>
<text text-anchor="middle" x="896.8339" y="-706.8" font-family="Times,serif" font-size="14.00" fill="#000000">compose()</text>
</g>
<!-- Router.match()&#45;&gt;compose() -->
<g id="edge15" class="edge">
<title>Router.match()&#45;&gt;compose()</title>
<path fill="none" stroke="#0000ff" d="M666.3497,-304.4466C678.7857,-309.7618 691.5572,-317.0905 700.999,-327 822.3567,-454.3692 718.283,-574.8787 846.8188,-695 847.9428,-696.0504 849.136,-697.0319 850.3842,-697.9489"/>
<polygon fill="#0000ff" stroke="#0000ff" points="848.8696,-701.1168 859.2745,-703.114 852.3861,-695.0641 848.8696,-701.1168"/>
<text text-anchor="middle" x="777.9089" y="-685.2" font-family="Times,serif" font-size="14.00" fill="#000000">4.将返回值合并</text>
</g>
<!-- Router.routes() -->
<g id="node10" class="node">
<title>Router.routes()</title>
<path fill="#e5e5e5" stroke="#000000" d="M115.6156,-316.3008C115.6156,-316.3008 30.7484,-316.3008 30.7484,-316.3008 26.6482,-316.3008 22.5479,-312.2005 22.5479,-308.1003 22.5479,-308.1003 22.5479,-299.8997 22.5479,-299.8997 22.5479,-295.7995 26.6482,-291.6992 30.7484,-291.6992 30.7484,-291.6992 115.6156,-291.6992 115.6156,-291.6992 119.7158,-291.6992 123.8161,-295.7995 123.8161,-299.8997 123.8161,-299.8997 123.8161,-308.1003 123.8161,-308.1003 123.8161,-312.2005 119.7158,-316.3008 115.6156,-316.3008"/>
<text text-anchor="middle" x="73.182" y="-299.8" font-family="Times,serif" font-size="14.00" fill="#000000">Router.routes()</text>
</g>
<!-- Router.routes()&#45;&gt;Router.match() -->
<g id="edge12" class="edge">
<title>Router.routes()&#45;&gt;Router.match()</title>
<path fill="none" stroke="#0000ff" d="M123.9948,-302.8926C225.6095,-300.678 453.4778,-295.7118 562.8879,-293.3273"/>
<polygon fill="#0000ff" stroke="#0000ff" points="563.1766,-296.8219 573.098,-293.1047 563.024,-289.8236 563.1766,-296.8219"/>
<text text-anchor="middle" x="231.6401" y="-306.2" font-family="Times,serif" font-size="14.00" fill="#000000">1.获取匹配路由</text>
</g>
<!-- 返回路由中间件 -->
<g id="node11" class="node">
<title>返回路由中间件</title>
<path fill="#e5e5e5" stroke="#000000" d="M678.857,-369.3008C678.857,-369.3008 568.7188,-369.3008 568.7188,-369.3008 564.6186,-369.3008 560.5183,-365.2005 560.5183,-361.1003 560.5183,-361.1003 560.5183,-352.8997 560.5183,-352.8997 560.5183,-348.7995 564.6186,-344.6992 568.7188,-344.6992 568.7188,-344.6992 678.857,-344.6992 678.857,-344.6992 682.9572,-344.6992 687.0575,-348.7995 687.0575,-352.8997 687.0575,-352.8997 687.0575,-361.1003 687.0575,-361.1003 687.0575,-365.2005 682.9572,-369.3008 678.857,-369.3008"/>
<text text-anchor="middle" x="623.7879" y="-352.8" font-family="Times,serif" font-size="14.00" fill="#000000">返回路由中间件</text>
</g>
<!-- Router.routes()&#45;&gt;返回路由中间件 -->
<g id="edge3" class="edge">
<title>Router.routes()&#45;&gt;返回路由中间件</title>
<path fill="none" stroke="#000000" d="M114.5625,-316.3176C130.8745,-320.7052 149.8632,-325.2388 167.364,-328 306.381,-349.9332 471.6989,-355.3965 560.2532,-356.6822"/>
</g>
<!-- ctx.router -->
<g id="node18" class="node">
<title>ctx.router</title>
<path fill="#e5e5e5" stroke="#000000" d="M923.665,-148.3008C923.665,-148.3008 870.0028,-148.3008 870.0028,-148.3008 865.9026,-148.3008 861.8023,-144.2005 861.8023,-140.1003 861.8023,-140.1003 861.8023,-131.8997 861.8023,-131.8997 861.8023,-127.7995 865.9026,-123.6992 870.0028,-123.6992 870.0028,-123.6992 923.665,-123.6992 923.665,-123.6992 927.7652,-123.6992 931.8655,-127.7995 931.8655,-131.8997 931.8655,-131.8997 931.8655,-140.1003 931.8655,-140.1003 931.8655,-144.2005 927.7652,-148.3008 923.665,-148.3008"/>
<text text-anchor="middle" x="896.8339" y="-131.8" font-family="Times,serif" font-size="14.00" fill="#000000">ctx.router</text>
</g>
<!-- Router.routes()&#45;&gt;ctx.router -->
<g id="edge13" class="edge">
<title>Router.routes()&#45;&gt;ctx.router</title>
<path fill="none" stroke="#0000ff" d="M123.774,-293.6808C272.991,-263.245 709.7116,-174.1673 851.68,-145.21"/>
<polygon fill="#0000ff" stroke="#0000ff" points="852.6767,-148.5789 861.7754,-143.1509 851.2776,-141.7201 852.6767,-148.5789"/>
<text text-anchor="middle" x="421.2465" y="-259.2" font-family="Times,serif" font-size="14.00" fill="#000000">2.将this也就是Router实例，挂载</text>
</g>
<!-- Router.all() -->
<g id="node12" class="node">
<title>Router.all()</title>
<path fill="#e5e5e5" stroke="#000000" d="M105.4009,-377.3008C105.4009,-377.3008 40.9631,-377.3008 40.9631,-377.3008 36.8628,-377.3008 32.7626,-373.2005 32.7626,-369.1003 32.7626,-369.1003 32.7626,-360.8997 32.7626,-360.8997 32.7626,-356.7995 36.8628,-352.6992 40.9631,-352.6992 40.9631,-352.6992 105.4009,-352.6992 105.4009,-352.6992 109.5012,-352.6992 113.6014,-356.7995 113.6014,-360.8997 113.6014,-360.8997 113.6014,-369.1003 113.6014,-369.1003 113.6014,-373.2005 109.5012,-377.3008 105.4009,-377.3008"/>
<text text-anchor="middle" x="73.182" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">Router.all()</text>
</g>
<!-- Router.all()&#45;&gt;Router.register() -->
<g id="edge17" class="edge">
<title>Router.all()&#45;&gt;Router.register()</title>
<path fill="none" stroke="#000000" d="M113.8166,-376.8867C130.3605,-381.5511 149.7102,-386.7848 167.364,-391 326.6705,-429.0376 370.175,-422.355 528.5768,-464 545.4234,-468.4291 563.669,-474.1404 579.6374,-479.4516"/>
<polygon fill="#000000" stroke="#000000" points="578.6587,-482.8151 589.2528,-482.6918 580.8941,-476.1816 578.6587,-482.8151"/>
</g>
<!-- 一次性操作所有methods -->
<g id="node13" class="node">
<title>一次性操作所有methods</title>
<path fill="#e5e5e5" stroke="#000000" d="M693.0101,-430.3008C693.0101,-430.3008 554.5657,-430.3008 554.5657,-430.3008 550.4654,-430.3008 546.3651,-426.2005 546.3651,-422.1003 546.3651,-422.1003 546.3651,-413.8997 546.3651,-413.8997 546.3651,-409.7995 550.4654,-405.6992 554.5657,-405.6992 554.5657,-405.6992 693.0101,-405.6992 693.0101,-405.6992 697.1104,-405.6992 701.2107,-409.7995 701.2107,-413.8997 701.2107,-413.8997 701.2107,-422.1003 701.2107,-422.1003 701.2107,-426.2005 697.1104,-430.3008 693.0101,-430.3008"/>
<text text-anchor="middle" x="623.7879" y="-413.8" font-family="Times,serif" font-size="14.00" fill="#000000">一次性操作所有methods</text>
</g>
<!-- Router.all()&#45;&gt;一次性操作所有methods -->
<g id="edge4" class="edge">
<title>Router.all()&#45;&gt;一次性操作所有methods</title>
<path fill="none" stroke="#000000" d="M113.6694,-368.8972C204.8141,-377.6706 427.3921,-399.0954 546.1515,-410.5269"/>
</g>
<!-- 设置前缀 -->
<g id="node24" class="node">
<title>设置前缀</title>
<path fill="#e5e5e5" stroke="#000000" d="M1720.5615,-101.3008C1720.5615,-101.3008 1644.7253,-101.3008 1644.7253,-101.3008 1640.6251,-101.3008 1636.5248,-97.2005 1636.5248,-93.1003 1636.5248,-93.1003 1636.5248,-84.8997 1636.5248,-84.8997 1636.5248,-80.7995 1640.6251,-76.6992 1644.7253,-76.6992 1644.7253,-76.6992 1720.5615,-76.6992 1720.5615,-76.6992 1724.6617,-76.6992 1728.762,-80.7995 1728.762,-84.8997 1728.762,-84.8997 1728.762,-93.1003 1728.762,-93.1003 1728.762,-97.2005 1724.6617,-101.3008 1720.5615,-101.3008"/>
<text text-anchor="middle" x="1682.6434" y="-84.8" font-family="Times,serif" font-size="14.00" fill="#000000">设置前缀</text>
</g>
<!-- Layer.setPrefix()&#45;&gt;设置前缀 -->
<g id="edge21" class="edge">
<title>Layer.setPrefix()&#45;&gt;设置前缀</title>
<path fill="none" stroke="#000000" d="M1393.3494,-89C1460.8852,-89 1573.3265,-89 1636.2924,-89"/>
</g>
<!-- Layer.stack -->
<g id="node22" class="node">
<title>Layer.stack</title>
<path fill="#e5e5e5" stroke="#000000" d="M1714.8497,-162.3008C1714.8497,-162.3008 1650.4371,-162.3008 1650.4371,-162.3008 1646.3368,-162.3008 1642.2365,-158.2005 1642.2365,-154.1003 1642.2365,-154.1003 1642.2365,-145.8997 1642.2365,-145.8997 1642.2365,-141.7995 1646.3368,-137.6992 1650.4371,-137.6992 1650.4371,-137.6992 1714.8497,-137.6992 1714.8497,-137.6992 1718.95,-137.6992 1723.0503,-141.7995 1723.0503,-145.8997 1723.0503,-145.8997 1723.0503,-154.1003 1723.0503,-154.1003 1723.0503,-158.2005 1718.95,-162.3008 1714.8497,-162.3008"/>
<text text-anchor="middle" x="1682.6434" y="-145.8" font-family="Times,serif" font-size="14.00" fill="#000000">Layer.stack</text>
</g>
<!-- Layer.param()&#45;&gt;Layer.stack -->
<g id="edge24" class="edge">
<title>Layer.param()&#45;&gt;Layer.stack</title>
<path fill="none" stroke="#000000" d="M1377.3446,-198.6503C1393.594,-193.9412 1412.6416,-188.8372 1430.1262,-185.2 1499.4544,-170.778 1580.747,-160.6348 1631.9765,-155.0547"/>
<polygon fill="#000000" stroke="#000000" points="1632.5531,-158.513 1642.1228,-153.9664 1631.8066,-151.5529 1632.5531,-158.513"/>
<text text-anchor="middle" x="1486.8497" y="-190.2" font-family="Times,serif" font-size="14.00" fill="#000000">splice</text>
</g>
<!-- 为指定命名路由运行中间件 -->
<g id="node25" class="node">
<title>为指定命名路由运行中间件</title>
<path fill="#e5e5e5" stroke="#000000" d="M1776.5833,-223.3008C1776.5833,-223.3008 1588.7035,-223.3008 1588.7035,-223.3008 1584.6032,-223.3008 1580.503,-219.2005 1580.503,-215.1003 1580.503,-215.1003 1580.503,-206.8997 1580.503,-206.8997 1580.503,-202.7995 1584.6032,-198.6992 1588.7035,-198.6992 1588.7035,-198.6992 1776.5833,-198.6992 1776.5833,-198.6992 1780.6836,-198.6992 1784.7838,-202.7995 1784.7838,-206.8997 1784.7838,-206.8997 1784.7838,-215.1003 1784.7838,-215.1003 1784.7838,-219.2005 1780.6836,-223.3008 1776.5833,-223.3008"/>
<text text-anchor="middle" x="1682.6434" y="-206.8" font-family="Times,serif" font-size="14.00" fill="#000000">为指定命名路由运行中间件</text>
</g>
<!-- Layer.param()&#45;&gt;为指定命名路由运行中间件 -->
<g id="edge22" class="edge">
<title>Layer.param()&#45;&gt;为指定命名路由运行中间件</title>
<path fill="none" stroke="#000000" d="M1385.867,-211C1436.0491,-211 1516.0437,-211 1580.3427,-211"/>
</g>
<!-- 判断路由是否匹配 -->
<g id="node26" class="node">
<title>判断路由是否匹配</title>
<path fill="#e5e5e5" stroke="#000000" d="M1740.2781,-40.3008C1740.2781,-40.3008 1625.0087,-40.3008 1625.0087,-40.3008 1620.9084,-40.3008 1616.8082,-36.2005 1616.8082,-32.1003 1616.8082,-32.1003 1616.8082,-23.8997 1616.8082,-23.8997 1616.8082,-19.7995 1620.9084,-15.6992 1625.0087,-15.6992 1625.0087,-15.6992 1740.2781,-15.6992 1740.2781,-15.6992 1744.3784,-15.6992 1748.4786,-19.7995 1748.4786,-23.8997 1748.4786,-23.8997 1748.4786,-32.1003 1748.4786,-32.1003 1748.4786,-36.2005 1744.3784,-40.3008 1740.2781,-40.3008"/>
<text text-anchor="middle" x="1682.6434" y="-23.8" font-family="Times,serif" font-size="14.00" fill="#000000">判断路由是否匹配</text>
</g>
<!-- Layer.match()&#45;&gt;判断路由是否匹配 -->
<g id="edge23" class="edge">
<title>Layer.match()&#45;&gt;判断路由是否匹配</title>
<path fill="none" stroke="#000000" d="M1385.5036,-28C1445.6996,-28 1549.2007,-28 1616.775,-28"/>
</g>
<!-- koa&#45;compose -->
<g id="node21" class="node">
<title>koa&#45;compose</title>
<path fill="#e5e5e5" stroke="#000000" d="M1179.0269,-727.3008C1179.0269,-727.3008 1105.1473,-727.3008 1105.1473,-727.3008 1101.0471,-727.3008 1096.9468,-723.2005 1096.9468,-719.1003 1096.9468,-719.1003 1096.9468,-710.8997 1096.9468,-710.8997 1096.9468,-706.7995 1101.0471,-702.6992 1105.1473,-702.6992 1105.1473,-702.6992 1179.0269,-702.6992 1179.0269,-702.6992 1183.1271,-702.6992 1187.2274,-706.7995 1187.2274,-710.8997 1187.2274,-710.8997 1187.2274,-719.1003 1187.2274,-719.1003 1187.2274,-723.2005 1183.1271,-727.3008 1179.0269,-727.3008"/>
<text text-anchor="middle" x="1142.0871" y="-710.8" font-family="Times,serif" font-size="14.00" fill="#000000">koa&#45;compose</text>
</g>
<!-- compose()&#45;&gt;koa&#45;compose -->
<g id="edge16" class="edge">
<title>compose()&#45;&gt;koa&#45;compose</title>
<path fill="none" stroke="#000000" d="M934.6172,-711.6162C978.2862,-712.3285 1050.1114,-713.4999 1096.7521,-714.2606"/>
</g>
<!-- 同一path不同methods的中间件列表 -->
<g id="node23" class="node">
<title>同一path不同methods的中间件列表</title>
<path fill="#e5e5e5" stroke="#000000" d="M2071.2857,-162.3008C2071.2857,-162.3008 1867.9899,-162.3008 1867.9899,-162.3008 1863.8896,-162.3008 1859.7893,-158.2005 1859.7893,-154.1003 1859.7893,-154.1003 1859.7893,-145.8997 1859.7893,-145.8997 1859.7893,-141.7995 1863.8896,-137.6992 1867.9899,-137.6992 1867.9899,-137.6992 2071.2857,-137.6992 2071.2857,-137.6992 2075.386,-137.6992 2079.4863,-141.7995 2079.4863,-145.8997 2079.4863,-145.8997 2079.4863,-154.1003 2079.4863,-154.1003 2079.4863,-158.2005 2075.386,-162.3008 2071.2857,-162.3008"/>
<text text-anchor="middle" x="1969.6378" y="-145.8" font-family="Times,serif" font-size="14.00" fill="#000000">同一path不同methods的中间件列表</text>
</g>
<!-- Layer.stack&#45;&gt;同一path不同methods的中间件列表 -->
<g id="edge20" class="edge">
<title>Layer.stack&#45;&gt;同一path不同methods的中间件列表</title>
<path fill="none" stroke="#000000" d="M1723.154,-150C1756.1212,-150 1804.4162,-150 1849.539,-150"/>
<polygon fill="#000000" stroke="#000000" points="1849.7145,-153.5001 1859.7145,-150 1849.7145,-146.5001 1849.7145,-153.5001"/>
</g>
<!-- ctx -->
<g id="node27" class="node">
<title>ctx</title>
<path fill="#e5e5e5" stroke="#000000" d="M905.2387,-87.3008C905.2387,-87.3008 888.4291,-87.3008 888.4291,-87.3008 884.3288,-87.3008 880.2285,-83.2005 880.2285,-79.1003 880.2285,-79.1003 880.2285,-70.8997 880.2285,-70.8997 880.2285,-66.7995 884.3288,-62.6992 888.4291,-62.6992 888.4291,-62.6992 905.2387,-62.6992 905.2387,-62.6992 909.339,-62.6992 913.4393,-66.7995 913.4393,-70.8997 913.4393,-70.8997 913.4393,-79.1003 913.4393,-79.1003 913.4393,-83.2005 909.339,-87.3008 905.2387,-87.3008"/>
<text text-anchor="middle" x="896.8339" y="-70.8" font-family="Times,serif" font-size="14.00" fill="#000000">ctx</text>
</g>
</g>
</svg>
